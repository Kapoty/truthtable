<!DOCTYPE html>
<html>
	<head>
		<title>Tabela Verdade</title>
		<meta charset="UTF-8">
		<script src="tabela_verdade.js"></script>
		<!-- UIkit CSS -->
        <link rel="stylesheet" href="./css/uikit.min.css" />

        <!-- UIkit JS -->
        <script src="./js/uikit.min.js"></script>
        <script src="./js/uikit-icons.min.js"></script>
        <script src="./js/jquery-3.5.1.min.js"></script>

        <style type="text/css">
        	body {
        		margin: 50px;
        	}
        </style>
	</head>
	<body>
		<form class="uk-accordion-content">
			<fieldset class="uk-fieldset">
				<div class="uk-margin-small">
					<div class="uk-text-small">Digite a proposição: </div>
					<input class="uk-input uk-form-small" type="text" placeholder="p+q" value="p+q" name="proposicao" maxlength="200">
				</div>
				<button class="uk-button uk-button-primary uk-width-1-1">Gerar Tabela!</button>
			</fieldset>
		</form>
		<ul uk-accordion="multiple: true" id="sections">
			<li class="uk-open uk-hidden" id="tabelaVerdade">
	            <a class="uk-accordion-title" href="#">Tabela Verdade</a>
	            <div class="uk-accordion-content">
	                <table class="uk-table uk-table-small uk-table-divider">
	                    <thead>
	                    </thead>
	                    <tbody>
	                    </tbody>
	                </table>
	            </div>
	        </li>
    	</ul>
		<script type="text/javascript">
			$("form").on("submit", function() {
				proposicao_base = $("input").val();
				tabela = gerarTabela(proposicao_base);
				$("#tabelaVerdade").removeClass("uk-hidden");
				let ths = "";
				tabela[0].forEach((col) => ths += "<th>"+col+"</th>");
				$("#tabelaVerdade thead").html("<tr>"+ths+"</tr>");
				let trs = "";
				tabela.forEach((row, i) => {
					if (i==0) return;
					let tds = "";
					row.forEach((col) => tds += "<th>"+col+"</th>");
					trs += "<tr>"+tds+"</tr>";
				});
				$("#tabelaVerdade tbody").html(trs);
				return false;
			});
		</script>
	</body>
</html>